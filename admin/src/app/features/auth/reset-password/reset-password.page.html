<form class="auth-form" [formGroup]="form" (ngSubmit)="submit()">
  <header class="auth-form__header">
    <p class="auth-form__eyebrow">сброс</p>
    <h2>Новый пароль</h2>
    <p>Введите токен из письма и задайте новый пароль.</p>
  </header>

  <ui-input
    formControlName="email"
    label="Email"
    placeholder="team@coco.design"
    [required]="true"
    [error]="form.controls.email.invalid && form.controls.email.touched ? 'Введите корректный email' : undefined"
  ></ui-input>

  <ui-input
    formControlName="token"
    label="Токен"
    placeholder="вставьте токен из письма"
    [required]="true"
  ></ui-input>

  <ui-input
    formControlName="password"
    type="password"
    label="Новый пароль"
    placeholder="••••••••"
    [required]="true"
    [error]="form.controls.password.invalid && form.controls.password.touched ? 'Минимум 8 символов' : undefined"
  ></ui-input>

  <ui-input
    formControlName="confirmPassword"
    type="password"
    label="Повторите пароль"
    placeholder="••••••••"
    [required]="true"
    [error]="
      form.controls.confirmPassword.touched && !passwordsMatch()
        ? 'Пароли должны совпадать'
        : undefined
    "
  ></ui-input>

  <ui-button type="submit" [loading]="loading()" [disabled]="loading()">
    Сохранить пароль
  </ui-button>

  <p class="auth-form__success" *ngIf="success()">
    Готово! Можно <a routerLink="/auth/login">войти</a> с новым паролем.
  </p>
</form>

